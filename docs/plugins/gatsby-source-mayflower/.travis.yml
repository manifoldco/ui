language: node_js
sudo: required
services:
  - docker
node_js:
  - 10.10.0
dist: trusty
stages:
  - test
  - publish
jobs:
  include:
    - stage: test
      name: 'Run Linters'
      script: npm run lint
    - stage: test
      name: 'Run tests'
      script: npm run test
cache: npm
branches:
  only:
    - master
    - "/^v([0-9]+)\\.([0-9]+)\\.([0-9]+)(?:\\-(rc\\.[0-9]+)*)?$/"
